\section{Введение}

Тема данной работы касается проблемы извлечения информации о перемещении
объекта в трехмерном пространстве по видео.

Отслеживание "--- \term{трекинг} "--- положения объекта в 3D требуется в
приложениях дополненной реальности\cite{Radkowski}, во многих задачах
робототехники\cite{Robotics} и других приложениях, где необходимо понимание
окружающего простанства по видео.
Одно из применений трекинг находит в создании видеоэффектов в кино, где часто
требуется отследить на видео некоторый объект с целью придания ему затем
дополнительных свойств\cite{Bugaev_2018_ECCV}.

Данная работа посвящена одной из задач, касающихся упомянутой проблемы "---
рекурсивному трекингу 6D-позиции заданного 3D-моделью объекта на RGB-видео.
Выражение «6D-позиция» происходит от того, что положение объекта в трехмерном
пространстве имеет шесть степеней свободы.
Входными данными данной задачи являются видео, снятое с единственной
камеры с известными параметрами, 3D-модель отслеживаемого объекта
и его позиция в трехмерном пространстве на начальном кадре видео.
Целью задачи является последовательное вычисление позиции объекта относительно
камеры в каждом кадре видео.

Наличие лишь одного кадра с доподлинно известной позицией объекта и
последовательное вычисление позиций являются важными отличительными
особенностями рассматриваемой задачи.
В то же время нередко рассматривается ее постановка, подразумевающая наличие
дополнительных \term{ключевых кадров} "--- нескольких изображений с известной
позицией объекта относительно камеры.
Дополнительная входная информация обычно дает возможность получать более
качественное решение, однако у требущих наличия ключевых кадров методов область
возможного применения несколько уже.
Тем не менее в основном методы решения задачи в обоих вариантах используют
общие идеи, поэтому при ссылках на связанные работы данное различие будет
упоминаться только в случае необходимости.

Рассматриваемая задача подразумевает, что отслеживаемый объект может быть
произвольным, и на момент начала трекинга задано лишь одно (или небольшое
число, если есть ключевые кадры) изображение с известной позицией объекта,
что значительно усложняет возможность применения машинного обучения.
В связи с этим известные на текущий момент методы решения задачи опираются на
классические методы компьютерного зрения.
Их можно классифицировать в зависимости от того, на какого рода особенности
изображения они опираются "--- цветовые, точечные, граничные и т.\,п.
Различные особенности позволяют в разной степени противостоять возможным
случаям, представляющим существенные сложности для алгоритмов трекинга.
Такими являются захламленный фон, смазывание видео при быстром движении,
быстрая перемена освещения, предметы, перекрывающие объект,
однородная текстура объекта, его симметричная форма.

Некоторые алгоритмы\cite{Vacchetti2004,Lourakis2013,Pauwels2013}
используют точечные особенности изображения (ключевые точки).
Они выделяют на поверхности объекта небольшие хорошо различимые
участки\cite{AKAZE,SIFT,ShiAndTomasi} и отслеживают их перемещение от кадра
к кадру\cite{TomasiAndKanade,SIFT,PyrLK}.
Позиция объекта восстанавливается на основе знания о расположении данных
участков на кадре и соответствующих им точках на 3D-модели\cite{EPnP}.
Такие методы лучше других справляются с перекрытиями и симметричной формой,
но при этом требуют наличия неоднородной текстуры объекта.

В то же время многие объекты имеют характерную форму, которая позволяет
определять их позицию путем сопоставления контуров 3D-модели
и границ\cite{EdgesSurvey,CANNY} изображения объекта на кадре.
Такие методы\cite{RAPID,Marchand2003,Choi2012,Marchand2006,Klein2006,SeoHinterstoisser2014,WangZhong2015,Damen2012,VacchettiEdges2004}
позволяют производить трекинг даже если поверхность объекта окрашена однородно.
В то же время подобные алгоритмы нередко дают сбои при наличии захламленного
фона и при возникновении неоднозначностей в определении позиций
симметричных объектов.

В последние годы активно развиваются алгоритмы, основанные на
распределении цветов в отдельных областях
изображения\cite{PWP3D,Tjaden2017,Tjaden2018}.
Также их иногда называют методами, основанными на регионах изображения.
Они собирают статистику того, насколько часто пиксели различных цветов
встречаются на проекции объекта и на окружающем фоне.
На каждом новом кадре позиция ищется таким образом, чтобы проекция объекта
наилучшим образом соответствовала собранной статистике.
Такие методы хорошо справляются с однородно окрашенными объектами, если их цвет
отличается от цвета фона, а также лучше других противостоят смазыванию при
быстром движении объектов.
В то же время они плохо справляются с симметричными объектами и неустойчивы к
резкой смене освещения.

Таким образом, различные типы методов по-разному справляются со сложными
условиями трекинга.
Там, где один сбивается, другой может работать стабильно.  В связи с этим
многие работы\cite{RegionPhotometric,ColorFeature2018,Bugaev_2018_ECCV}
посвящены комбинированным алгоритмам, совмещающим в себе различные типы
методов.

\Comment{Возможно, описание вклада нужно сделать более подробным, но пока так.}

Данная работа посвящена совмещению трекинга с помощью точечных особенностей и
трекинга на основе распределения цветов.
Предлагаемый алгоритм использует полученную с помощью ключевых точек начальную
позицию для задания отправной точки вычисления окончательной позиции объекта
цветовым методом.
В то же время рассчитанная с помощью цветового метода позиция учитывается при
работе с ключевыми точками и используется для их коррекции.
Взаимная согласованность двух подходов к трекингу позволяет добиваться более
стабильных и качественных результатов, чем с помощью каждого из них по
отдельности, что демонстрируется с помощью экспериментов на открытом тестовом
бенчмарке OPT\cite{OPT}.
\Comment{Добавить конкретные цифры?}
\Comment{Сказать про симметричные объекты? Для этого тесты должны быть.}

Также предлагается способ значительно сократить потребление оперативной памяти
цветовой частью алгоритма в случае работы с высокополигональными 3D-моделями.
\Comment{Описать остальные нововведения.}

Далее, в разделе \ref{related-work}, обсуждаются связанные с данной статьей
работы.
Затем в разделе \ref{formalization} дается формальная постановка задачи
трекинга и вводятся используемые обозначения.
Раздел \ref{tracking} содержит подробное описание предлагаемого решения.
Наконец, раздел \ref{experiments} содержит результаты экспериментов и сравнение
с другими подходами к трекингу.
